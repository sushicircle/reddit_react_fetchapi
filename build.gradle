/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.4.1/userguide/tutorial_java_projects.html
 */

plugins {
  //include nodeJS
  id "com.moowork.node" version "1.2.0"
  id "com.palantir.npm-run" version "0.5.0"
}

node {
	download = true
	version = "9.11.1"
	npmVersion = "5.6.0"
}

//declare a build task
//task build

npmRun {
    clean       "other-clean"       // defaults to "clean"
    test        "react-scripts test"        // defaults to "test"
    build       "react-scripts build"       // defaults to "build"
    buildDev    "other-buildDev"    // defaults to "buildDev"
}

//declare a task to create a zip of the app
task zip(type: Zip) {
	from ('.') {
		include "*"
		include "source/**"
		include "public/**"
	}
	destinationDir(file("dist"))
	baseName "fetchapi"
}
zip
npmInstall
npmRun
